{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Md Jamal Uddin/Desktop/IP-Address-Tracking-app-react-master/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Md Jamal Uddin/Desktop/IP-Address-Tracking-app-react-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import*as actionType from'../contexts/AppContext/actions-types';import{ValidateIPaddress}from'./validate_IP_address';export var getIPLocation=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(ip,dispatch){var dataRaw,dataJson,_dataRaw,_dataJson;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:actionType.GET_LOCATION_START_ASYNC});_context.prev=1;if(!ValidateIPaddress(ip)){_context.next=16;break;}_context.next=5;return fetch(\"https://geo.ipify.org/api/v2/country,city?apiKey=at_brv1IBaELUFJmV2CHZlrCFgKrI14t&ipAddress=\".concat(ip));case 5:dataRaw=_context.sent;if(!(dataRaw.status!==200)){_context.next=10;break;}throw new Error('oops something went wrong. please try again later');case 10:_context.next=12;return dataRaw.json();case 12:dataJson=_context.sent;dispatch({type:actionType.GET_LOCATION_END_ASYNC,payload:dataJson});case 14:_context.next=27;break;case 16:_context.next=18;return fetch(\"https://geo.ipify.org/api/v2/country,city?apiKey=at_brv1IBaELUFJmV2CHZlrCFgKrI14t&domain=\".concat(ip));case 18:_dataRaw=_context.sent;if(!(_dataRaw.status!==200)){_context.next=23;break;}throw new Error('oops something went wrong. please try again later');case 23:_context.next=25;return _dataRaw.json();case 25:_dataJson=_context.sent;dispatch({type:actionType.GET_LOCATION_END_ASYNC,payload:_dataJson});case 27:_context.next=33;break;case 29:_context.prev=29;_context.t0=_context[\"catch\"](1);console.log(_context.t0);dispatch({type:actionType.GET_LOCATION_ERROR_ASYNC,payload:_context.t0.message});case 33:case\"end\":return _context.stop();}}},_callee,null,[[1,29]]);}));return function getIPLocation(_x,_x2){return _ref.apply(this,arguments);};}();","map":{"version":3,"names":["actionType","ValidateIPaddress","getIPLocation","ip","dispatch","type","GET_LOCATION_START_ASYNC","fetch","dataRaw","status","Error","json","dataJson","GET_LOCATION_END_ASYNC","payload","console","log","GET_LOCATION_ERROR_ASYNC","message"],"sources":["C:/Users/Md Jamal Uddin/Desktop/IP-Address-Tracking-app-react-master/src/helpers/getIPLocation.js"],"sourcesContent":["import * as actionType from '../contexts/AppContext/actions-types';\nimport { ValidateIPaddress } from './validate_IP_address';\n\nexport const getIPLocation = async (ip, dispatch) => {\n  dispatch({ type: actionType.GET_LOCATION_START_ASYNC });\n  try {\n    if (ValidateIPaddress(ip)) {\n      const dataRaw = await fetch(\n        `https://geo.ipify.org/api/v2/country,city?apiKey=at_brv1IBaELUFJmV2CHZlrCFgKrI14t&ipAddress=${ip}`,\n      );\n\n      if (dataRaw.status !== 200) {\n        throw new Error('oops something went wrong. please try again later');\n      } else {\n        const dataJson = await dataRaw.json();\n\n        dispatch({\n          type: actionType.GET_LOCATION_END_ASYNC,\n          payload: dataJson,\n        });\n      }\n    } else {\n      const dataRaw = await fetch(\n        `https://geo.ipify.org/api/v2/country,city?apiKey=at_brv1IBaELUFJmV2CHZlrCFgKrI14t&domain=${ip}`,\n      );\n\n      if (dataRaw.status !== 200) {\n        throw new Error('oops something went wrong. please try again later');\n      } else {\n        const dataJson = await dataRaw.json();\n\n        dispatch({\n          type: actionType.GET_LOCATION_END_ASYNC,\n          payload: dataJson,\n        });\n      }\n    }\n  } catch (e) {\n    console.log(e);\n    dispatch({ type: actionType.GET_LOCATION_ERROR_ASYNC, payload: e.message });\n  }\n};\n"],"mappings":"oUAAA,MAAO,GAAKA,WAAZ,KAA4B,sCAA5B,CACA,OAASC,iBAAT,KAAkC,uBAAlC,CAEA,MAAO,IAAMC,cAAa,4FAAG,iBAAOC,EAAP,CAAWC,QAAX,4JAC3BA,QAAQ,CAAC,CAAEC,IAAI,CAAEL,UAAU,CAACM,wBAAnB,CAAD,CAAR,CAD2B,oBAGrBL,iBAAiB,CAACE,EAAD,CAHI,gDAIDI,MAAK,uGACsEJ,EADtE,EAJJ,QAIjBK,OAJiB,oBAQnBA,OAAO,CAACC,MAAR,GAAmB,GARA,gCASf,IAAIC,MAAJ,CAAU,mDAAV,CATe,gCAWEF,QAAO,CAACG,IAAR,EAXF,SAWfC,QAXe,eAarBR,QAAQ,CAAC,CACPC,IAAI,CAAEL,UAAU,CAACa,sBADV,CAEPC,OAAO,CAAEF,QAFF,CAAD,CAAR,CAbqB,8DAmBDL,MAAK,oGACmEJ,EADnE,EAnBJ,SAmBjBK,QAnBiB,oBAuBnBA,QAAO,CAACC,MAAR,GAAmB,GAvBA,gCAwBf,IAAIC,MAAJ,CAAU,mDAAV,CAxBe,gCA0BEF,SAAO,CAACG,IAAR,EA1BF,SA0BfC,SA1Be,eA4BrBR,QAAQ,CAAC,CACPC,IAAI,CAAEL,UAAU,CAACa,sBADV,CAEPC,OAAO,CAAEF,SAFF,CAAD,CAAR,CA5BqB,yFAmCzBG,OAAO,CAACC,GAAR,cACAZ,QAAQ,CAAC,CAAEC,IAAI,CAAEL,UAAU,CAACiB,wBAAnB,CAA6CH,OAAO,CAAE,YAAEI,OAAxD,CAAD,CAAR,CApCyB,qEAAH,kBAAbhB,cAAa,gDAAnB"},"metadata":{},"sourceType":"module"}